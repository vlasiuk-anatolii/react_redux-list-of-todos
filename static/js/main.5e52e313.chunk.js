(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{26:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c,r=n(10),s=n.n(r),a=n(6),o=n(17),i=n(18),u=n(7),l=n(12),d=n(16);!function(e){e.SET_TODOS="SET_TODOS",e.SET_USER="SET_USER"}(c||(c={}));var j=function(e){return{type:c.SET_USER,payload:e}},p={todos:[],user:null},b=Object(l.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.SET_TODOS:return Object(u.a)(Object(u.a)({},e),{},{todos:Object(i.a)(t.payload)});case c.SET_USER:return Object(u.a)(Object(u.a)({},e),{},{user:t.payload});default:return e}}),Object(d.composeWithDevTools)()),O=(n(26),n(5)),h=n(4),f=n(3),v=n.n(f),x=n(0),m=(n(28),n(14)),_=n.n(m),y="https://mate.academy/students-api";function T(){return S.apply(this,arguments)}function S(){return(S=Object(O.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(y,"/todos"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return N.apply(this,arguments)}function N(){return(N=Object(O.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(y,"/users/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.ok?n.json():Promise.reject("".concat(n.status,": ").concat(n.statusText)));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(O.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(y,"/todos/").concat(t),{method:"DELETE"});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w,C=function(e){return e.todos},U=function(e){return e.user},A=n(1);!function(e){e[e.All=0]="All",e[e.Active=1]="Active",e[e.Complited=2]="Complited"}(w||(w={}));var L=function(){var e=Object(x.useState)(""),t=Object(h.a)(e,2),n=t[0],r=t[1],s=Object(x.useState)("0"),o=Object(h.a)(s,2),i=o[0],u=o[1],l=Object(x.useState)(!1),d=Object(h.a)(l,2),p=d[0],b=d[1],f=Object(a.b)(),m=Object(a.c)(C),y=Object(a.c)(U);Object(x.useEffect)((function(){var e=function(){var e=Object(O.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T();case 3:t=e.sent,f((n=t,{type:c.SET_TODOS,payload:n})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),b(!0);case 10:case"end":return e.stop()}var n}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[m]);var S=function(){var e=Object(O.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(t);case 3:n=e.sent,f(j(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f(j(null));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)("div",{className:"TodoList",children:[Object(A.jsx)("h2",{children:"Todos:"}),Object(A.jsxs)("div",{className:"TodoList__list-container",children:[Object(A.jsxs)("div",{className:"",children:[Object(A.jsx)("input",{type:"text",placeholder:"Search by title",value:n,"data-cy":"filterByTitle",onChange:function(e){r(e.target.value)}})," ",Object(A.jsxs)("select",{onChange:function(e){u(e.target.value)},children:[Object(A.jsx)("option",{value:"0",children:"All"}),Object(A.jsx)("option",{value:"1",children:"Active"}),Object(A.jsx)("option",{value:"2",children:"Complited"})]})]}),Object(A.jsx)("ul",{className:"TodoList__list","data-cy":"listOfTodos",children:!p&&function(){var e=m.filter((function(e){return e.title.includes(n)}));switch(+i){case w.Active:return e.filter((function(e){return!e.completed}));case w.Complited:return e.filter((function(e){return e.completed}));default:return e}}().map((function(e){return Object(A.jsxs)("li",{className:_()("TodoList__item",{"TodoList__item--unchecked":!e.completed},{"TodoList__item--checked":e.completed}),children:[Object(A.jsxs)("label",{children:[Object(A.jsx)("input",{type:"checkbox",readOnly:!0,checked:e.completed}),Object(A.jsx)("p",{children:e.title})]}),Object(A.jsxs)("div",{className:"TodoList__boxbuttons",children:[Object(A.jsx)("button",{className:_()("TodoList__user-button",{"TodoList__user-button--selected":(null===y||void 0===y?void 0:y.id)===e.userId}),type:"button","data-cy":"userButton",onClick:function(){S(e.userId)},children:"User ".concat(e.userId)}),Object(A.jsx)("button",{className:"TodoList__user-button",type:"button","data-cy":"userButton",onClick:function(){!function(e){E.apply(this,arguments)}(e.id)},children:"X"})]})]},e.id)}))})]})]})},g=(n(30),function(){var e=Object(a.b)(),t=Object(a.c)(U),n=Object(x.useState)(!1),c=Object(h.a)(n,2),r=c[0],s=c[1],o=Object(x.useState)(""),i=Object(h.a)(o,2),u=i[0],l=i[1];return Object(x.useEffect)((function(){var n=function(){var n=Object(O.a)(v.a.mark((function n(){var c;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k(null===t||void 0===t?void 0:t.id);case 3:c=n.sent,e(j(c)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),l("User is not exist");case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();n()}),[null===t||void 0===t?void 0:t.id]),t?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"CurrentUser",style:{display:r?"none":"block"},children:[Object(A.jsx)("h2",{className:"CurrentUser__title",children:Object(A.jsx)("span",{children:"User: ".concat(null===t||void 0===t?void 0:t.id)})}),Object(A.jsx)("h3",{className:"CurrentUser__name","data-cy":"userName",children:null===t||void 0===t?void 0:t.name}),Object(A.jsx)("p",{className:"CurrentUser__email",children:null===t||void 0===t?void 0:t.email}),Object(A.jsx)("p",{className:"CurrentUser__phone",children:null===t||void 0===t?void 0:t.phone})]}),Object(A.jsx)("button",{type:"button",className:"CurrentUser__clear CurrentUser__button",onClick:function(){s(!r)},children:r?"Show":"Clear"})]}):Object(A.jsx)("span",{children:u})}),D=function(){return Object(A.jsxs)("div",{className:"App",children:[Object(A.jsx)("div",{className:"App__sidebar",children:Object(A.jsx)(L,{})}),Object(A.jsx)("div",{className:"App__content",children:Object(A.jsx)("div",{className:"App__content-container",children:Object(A.jsx)(g,{})})})]})},B=function(){return Object(A.jsx)(a.a,{store:b,children:Object(A.jsx)(o.a,{children:Object(A.jsx)(D,{})})})};s.a.render(Object(A.jsx)(B,{}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.5e52e313.chunk.js.map